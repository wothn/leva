# 生词本浏览器扩展

## 项目概述

这是一个帮助用户收集和高亮显示网页上生词的浏览器扩展。该扩展允许用户通过右键菜单将选中的单词添加到生词本中，并能在网页上自动高亮显示这些已收集的生词，帮助用户巩固记忆。同时，提供单词悬浮释义功能，辅助用户理解和学习单词。

## 功能特点

- **收集生词**：通过右键菜单将选中的单词添加到生词本
- **高亮显示**：自动在网页上高亮显示已收集的生词
- **生词管理**：查看、搜索、删除和导出收集的生词
- **高亮开关**：一键开启或关闭网页上的高亮显示功能
- **悬浮释义**：鼠标悬停在高亮单词上时显示单词的详细释义、音标和例句

## 技术实现

### 1. 扩展配置（manifest.json）

- 使用 Manifest V3 格式
- 申请必要的权限：storage（存储生词）、contextMenus（右键菜单）、activeTab（访问当前标签页）、offscreen（离屏页面API）
- 配置内容脚本、后台脚本和弹出页面

### 2. 生词收集功能

- 通过右键菜单选项实现单词收集
- 使用 Chrome Storage API 存储生词数据
- 收集成功时显示通知提醒

### 3. 高亮显示功能

- 使用正则表达式在网页上查找匹配的生词
- 通过 DOM 操作将找到的文本包装在带样式的 span 元素中
- 实现高亮显示的开关控制

### 4. 生词管理功能

- 在弹出窗口中展示收集的所有生词
- 提供搜索过滤功能
- 支持删除单个生词
- 支持一键清空所有生词
- 支持清空单词释义缓存
- 提供导出生词列表功能

### 5. 悬浮释义功能

- 当用户鼠标悬停在高亮单词上时触发释义查询
- 通过 Cambridge Dictionary 获取单词的英汉/英英释义
- 使用 Offscreen API 解析词典网页提取关键信息
- 显示包含音标、多个释义和例句的悬浮提示框
- 实现缓存机制减少重复请求，提高性能
- 提供音频播放功能，支持美式和英式发音
- 根据页面布局智能定位悬浮提示框位置

## 未来改进

- [x] 添加生词发音功能
- [x] 集成在线翻译 API，自动获取并显示单词释义
- [ ] 优化高亮算法，提高性能和准确性

## 贡献指南

欢迎提交问题报告或功能建议。如需贡献代码，请遵循以下步骤：

1. Fork 本项目
2. 创建您的特性分支
3. 提交您的改动
4. 推送到分支
5. 提交拉取请求

## 许可证

MIT 许可证